<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title> </title>
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="css/index.css">

	<!-- js -->
	<script type="text/javascript" charset="utf-8" src="js/jquery-3.1.1.min.js"></script>

	<script>
/*		$(function(){
			//校验手机号
			//页面的input写的正则下面直接调用方法就可以的
			jQuery.extend({
			checkmobileNo: function(str) {
			var re =/^1[3|7|5|8]\d{9}$/;
			if (re.test(str)) {
			return true;
			} else {
			return false;
			}
			}
			});

			var d = new Date();
d.setSeconds(d.getSeconds() + 59);
var m = d.getMonth() + 1;
var time = d.getFullYear() + '-' + m + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();
var id = ".code1";
var end_time = new Date(Date.parse(time.replace(/-/g, "/"))).getTime(),
		});
sys_second = (end_time - new Date().getTime()) / 1000;
var timer = setInterval(function() {
if (sys_second > 1) {
sys_second -= 1;
var day = Math.floor((sys_second / 3600) / 24);
var hour = Math.floor((sys_second / 3600) % 24);
var minute = Math.floor((sys_second / 60) % 60);
var second = Math.floor(sys_second % 60);
var time_text = '';
if (day > 0) {
time_text += day + '天';
}
if (hour > 0) {
if (hour < 10) {
hour = '0' + hour;
}
time_text += hour + '小时';
}
if (minute > 0) {
if (minute < 10) {
minute = '0' + minute;
}
time_text += minute + '分';
}
if (second > 0) {
if (second < 10) {
second = '0' + second;
}
time_text += second + '秒';
}
$(id).text(time_text);
} else {
clearInterval(timer);
$(".code1").attr("disabled", false);
$(".code1").text('获取验证码');
$(".code1").css("background-color", "#f67a62");
}
},
1000); 
}else{
alert("发送失败，请再试一次。");
}
},
error: function(data, status) {
alert(status);
}
//验证验证码和手机发送的验证码是否一致
$.ajax({
type: 'GET',
url: "接口2",
success: function(data, status) {
if (data.errcode==0) {
//向服务器提交信息
$.ajax({
type: 'POST',
url: "向服务器提交你们索要填写的信息接口",
data: JSON.stringify({ //data这里看你们的需求根据接口的数据去写
"project_id": pid,
"phone": mobile,
"device":d
}),
success: function(data, status) {
if (data.errcode==0) {
$('.page1').hide();
$('.page2').show();
}else{
alert("提交失败,请在尝试一次!");
}
},
error: function(data, status) {
alert(data.errMsg);
}
});
}else{
alert("验证码不正确！");
}
},
error: function(data, status) {
alert(status);
}*/
// ---------------------------------------------------------------------------------------------------------------

//倒计时60秒
/*var wait=60;
function time(o) {
if (wait == 0) {
o.removeAttribute("disabled");
o.value="获取动态码";
wait = 60;
} else {
o.setAttribute("disabled", true);
o.value="重新发送(" + wait + ")";
wait--;
setTimeout(function() {
time(o)
}, 1000)
}
}
$('.input-code').click(function() {
var phone = $('.regphone').val();
$.ajax({
type: 'post',
url: "{{ path('zm_member_get_salt') }}",
data: {
phone: phone,
type: 1
},
dataType: 'json',
success: function (result) {
if (result.flag == 1) {
// alert('成功');
time(btn);
} else {
alert(result.content);
}
}
});
});*/
// -------------------------------------------------------------------------------------------------------------
 //点击后进入倒计时
                        $(document).ready(function(){
                            //JQ自定义一个函数
                            $.extend({
                                "setTimeA":function(b) {
                                    if(parseInt(b)>1) {
                                        var timeStart = parseInt(b) - 1;
                                        $("#verification_btn").text(timeStart);
                                        setTimeout(function(){$.setTimeA(timeStart);},1000);
                                    }else{
                                        $("#verification_btn").removeAttr("disabled").attr(
                                            "class", "sub"
                                        ).text("验证");
                                    }

                            }
                        });

                            $("#verification_btn").click(function(){
                                //变为不能选择
                                $("#verification_btn").removeAttr(
                                    "class"
                                ).attr("disabled","disabled");
                                //调用上面自定义的函数
                                $.setTimeA(60);
                            });
                        });
	</script>
</head>
<body>
	<!-- <div class="pop">
		<div class="con">
			<span class="close"><img src="img/close.png"></span>
			<div class="page1">
				<p class="info">
					<span class="title">手机号：</span>
					<input type="tel" class="tel" id="mobile" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')" required="" placeholder="请输入您的手机号">
				</p>
				<p class="info">
					<span class="title">验证码：</span>
					<input type="tel" class="code" placeholder="输入验证码">
					<span class="code1">获取验证码</span>
				</p>
				<div class="demand demand2" style="width: 70%; margin-top: 20px;">提交</div>
			</div>
			<div class="page2">
				<p class="p1">提交成功</p>
				<p class="p2">我们将在索要成功后</p>
				<p class="p2">第一时间通知您！</p>
				<div class="demand demand3" style="width: 80%; margin-top: 20px; margin-bottom: 10px;">朕知道了</div>
			</div>
		</div>
	</div> -->
	<!-- --------------------------------------------------------------------------------------------- -->
	<!-- <div class="user-form">
		<form action="{{ path('zm_member_register') }}" method="post">
		<div class="form-list">
		<label class="register-label">手机号码</label>
		<input class="regphone input-register" type="text" name="phone" placeholder="请输入手机号码" />
		</div>
		<div class="form-list">
		<label class="register-label">验证码</label>
		<input class="input-short" type="text" name="sms_salt" placeholder="请输短信验证码" />
		<input class="input-code" id="btn" type="button" value="发送验证码" />
		</div>
		<input style="margin-top: 60px;" type="submit" class="registerSubmit form-sumbit" value="提交" />
		</form>
	</div> -->
	<!-- ------------------------------------------------------------------------------------------ -->
	<input id="verification_btn" type="text">
	<a href="" class="disabled"></a>
</body>
</html>