<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>vue</title>

	<!-- css -->
	<link rel="stylesheet" type="text/css" href="../css/index.css">

</head>
<body>


<div id="header" v-if="bool">
    <div v-html="htm"></div>
	<p>header:{{header()}}</p>
	<p>header:{{header()|header()|isNum()}}</p>

	<input v-bind:type=ttt v-bind:placeholder="placeholder">
	<p @click="alertmsg()" >{{returnbool()}}</p>

	<p v-on:click="alertmsg()">123123</p>

	<p>{{a1()}}</p>

	<p :data-clearId="dataclearId">123132123</p>

	<p>-------------------------------</p>
	<ul>
		<li v-for="p in arr">{{p}}</li>
	</ul>
	<p>-------------------------------</p>
	<ul>
		<li v-for="p in obj">{{p}}</li>
	</ul>

	<p>"p:"+{{placeholder}}</p>
	<p>{{reversed}}</p>

	<div class="count">
		<span>计数器：{{counter}}</span>
		<p @click = "counter++">1231231313213213231321323</p>
    	<button @click = "counter++" style = "font-size:25px;">点我</button>
	</div>

	<input type = "text" v-model = "kilometers">

	<p v-bind:class={act:visible}>测试class显示隐藏</p>

	<button @click = "setandget">getset</button>

	<p v-on:click="test1(1,$event),this">test1</p>

</div>

	<div id = "computed_props">
         千米 : <input type = "text" v-model = "kilometers">
         米 : <input type = "text" v-model = "meters">
	   <p id="info"></p>
    </div>


	<!-- js -->
	<script type="text/javascript" charset="utf-8" src="../js/plugins/JQuery/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="../js/plugins/vue/vue.min.js"></script>
	<script type="text/javascript">
	var vm = new Vue({
            el: '#computed_props',
            data: {
               kilometers : 0,
               meters:0
            },
            methods: {
            },
            computed :{
            },
            watch : {
               kilometers:function(val) {
                  this.kilometers = val;
                  this.meters = val * 1000;
               },
               meters : function (val) {
                  this.kilometers = val/ 1000;
                  this.meters = val;
               }
            }
         });
         // $watch 是一个实例方法
		vm.$watch('kilometers', function (newValue, oldValue) {
			// 这个回调将在 vm.kilometers 改变后调用
		    document.getElementById ("info").innerHTML = "修改前值为: " + oldValue + "，修改后值为: " + newValue;
		})
		
	var html = 
			'<div class="nav">\
				<span>导航1</span>\
				<span>导航2</span>\
				<span>导航3</span>\
				<span>导航4</span>\
			</div>';
	var dataid="id0";

	var v = new Vue({
		el:"#header",
		data:{
			arr:[11,12,13],
			obj:{"key1":"obj1","key2":"obj2","key3":"obj3","key4":"obj4"},
			result:{
				msg:"",
				data:{
					array:[{"key1":"1","key2":"2","key3":"3"}],
					headr:"头部text",
					footer:["底部文字1","底部文字3","底部文字3"],
				},
				code:1
			},
			htm:html,
    		message: '1313123123132123',
    		ttt:"text",
    		bool:true,
    		dataid:dataid,
    		placeholder:"请输入文字",
    		a:1,
    		b:20,
    		"dataclearId":"123123123123",
    		counter:100,
    		kilometers:"01",
    		visible:false
		},
		methods:{
			header:function(){
				console.log("methods:1");
				return this.result.data.array[0].key1;
			},
			returnbool:function(){
				console.log("methods:2");
				return this.a-this.b;
			},
			alertmsg:function(){
				console.log("methods:3");
				this.a1();
			},
			a1:function(){
				console.log("methods:4");
				this.a = this.a.toString();
				return this.a;
			},
			setandget:function(){
				console.log("methods:5");
				this.site = 1111;
			},
			setClass:function(){
				console.log("methods:6");
				alert(1);
			},
			test1:function(bbb,aaa,ccc){
				console.log("methods:7==="+bbb);
				console.log(aaa);
				console.log($(ccc));
				// alert(1);
			}
		},
		filters:{
			isnull:function(e){
				console.log("filters：isnull");
				if (e == null || e == '' || e == undefined || e == 'null'){
			       return true;
				}else{
			        return false;
			    }
			},
			isNum:function(e){
				console.log("filters：isNum");
				if (typeof e == "number"){
			       return "sss";
				}else{
			        return "bbb";
			    }
			}
		},
		computed:{
			reversed:function(){
				console.log("computed:reversed");
				return this.placeholder.split('').reverse().join();
			},
			site:{
				get:function(){
					return this.placeholder + 1111;
				},
				set:function(newValue){
					console.log("ncomputed:ewValue:"+newValue);
					this.placeholder = newValue + "newValue";
				}
			},
			set:function(){

				console.log("computed:set");
			}
		}
	});
	v.$watch("counter",function(nval,oval){
		console.log('计数器值的变化 :' + oval + ' 变为 ' + nval + '!');
	})

	</script>
</body>
</html>