<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>组件数据子传父</title>
	</head>
	<body>
		<div id="app">
			<cccc @cpnclick="getcpnclick" @countclick="getcountclick" @subclick="getsubclick" :count="count"></cccc>
		</div>

		<template id="cpn1">
			<div>
				<button v-for="item in categories" @click="btnclick(item)">{{item.name}}</button>
				<br>
				<button @click="add()">+</button>
				{{count}}
				<button @click="sub()">-</button>
			</div>
		</template>

		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			const cpn2 = {
				template: "#cpn1",
				props: {
					count: {
						type: Number,
						default: 0,
						required: true
					}
				},
				data() {
					return {
						"categories": [{
								"id": "a01",
								"name": "家用家电"
							},
							{
								"id": "a03",
								"name": "家用家电2"
							},
							{
								"id": "a02",
								"name": "家用家电3"
							},
							{
								"id": "a0221",
								"name": "家用家电4"
							}
						]
					}
				},
				methods: {
					btnclick(item) {
						this.$emit("cpnclick", item)
					},
					add() {
						this.$emit("countclick")
					},
					sub() {
						this.$emit("subclick")
					}
				}
			}

			const vm = new Vue({
				el: "#app",
				data: {
					count: 0
				},
				methods: {
					getcpnclick(item) {
						console.log(item)
					},
					getcountclick() {
						this.count++
					},
					getsubclick() {
						this.count--
					}
				},
				components: {
					cccc: cpn2
				}
			})
		</script>
	</body>
</html>
